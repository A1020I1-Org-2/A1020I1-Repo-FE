<app-header></app-header>
<div class="container-fluid">
  <div class="row">
    <div class="col-md-12">
      <h1 class="text-center mt-5" style="color: darkblue">DANH SÁCH NHÂN VIÊN</h1>
    </div>
  </div>
  <div class="row mt-5">
    <div class="col-6">
      <button class="btn btn-success" [routerLink]="['/create']">
        <i class="fas fa-plus-circle mr-1"></i>&nbsp;Thêm mới nhân viên
      </button>
    </div>
    <div class="col-6">
      <input [(ngModel)]="searchName" (ngModelChange)="search()" type="text" class="form-control"
             placeholder="Tìm kiếm" name="searchName"/>
    </div>
  </div>
  <div class="row">
    <div class="col-md-12">
      <table class="table table-striped table-bordered mt-3" id="tableService">
        <thead class="table-primary text-center">
        <tr>
          <th scope="col">Mã nhân viên</th>
          <th scope="col">Tên nhân viên</th>
          <th scope="col">Ngày sinh</th>
          <th scope="col">SĐT</th>
          <th scope="col">Email</th>
          <th scope="col">Giới tính</th>
          <th scope="col">Địa chỉ</th>
          <th scope="col">CMND</th>
          <th scope="col">Lương</th>
          <th scope="col">Chức năng</th>
        </tr>
        </thead>
        <tbody>
        <tr *ngFor="let emp of employee">
          <td>{{emp.employeeId}}</td>
          <td>{{emp.fullName}}</td>
          <td>{{emp.dateOfBirth.toString().substr(0, 10)}}</td>
          <td>{{emp.phone}}</td>
          <td>{{emp.email}}</td>
          <td *ngIf="!emp.gender">Nam</td>
          <td *ngIf="emp.gender">Nữ</td>
          <td>{{emp.address}}</td>
          <td>{{emp.idCard}}</td>
          <td>{{emp.salary}}</td>
          <td class="text-center">
            <button [routerLink]="['/viewEmployee/'+emp.employeeId]" class=" me-2 border-0 btn btn-info">
              <i class="fas fa-pencil-alt"></i>
            </button>
            <button (click)="delete(emp.employeeId)" type="button" class="border-0 btn btn-danger">
              <i class="fas fa-trash-alt"></i>
            </button>
          </td>
        </tr>
        </tbody>
      </table>
    </div>
  </div>

  <div class="row">
    <div class="d-flex justify-content-end container">
      <button class="mr-3 btn btn-danger" (click)="deleteAll()">Xoá tất cả</button>
    </div>
  </div>
</div>

<div class="container">
  <div class="d-flex justify-content-center">
    <nav aria-label="Page navigation example">
      <ul class="pagination justify-content-end">
        <li class="page-item " [ngClass]="pageNow === 0 ? 'disabled' : ''">
          <button class="page-link" aria-label="Previous" (click)="getPage(0)">
            <span aria-hidden="true">&laquo;</span>
          </button>
        </li>
        <li class="page-item" [ngClass]="pageNow === 0 ? 'disabled' : ''">
          <button class="page-link" aria-label="Previous" (click)="getPage(pageNow - 1)">
            <span aria-hidden="true">&lsaquo;</span>
          </button>
        </li>
        <li class="page-item" *ngIf="pageNow > 0">
          <button class="page-link" (click)="getPage(pageNow - 1)">{{pageNow}}</button>
        </li>
        <li class="page-item active">
          <button class="page-link">{{pageNow+1}}</button>
        </li>
        <li class="page-item" *ngIf="(pageNow+1) < totalPage.length">
          <button class="page-link" (click)="getPage(pageNow + 1)">{{pageNow+2}}</button>
        </li>
<!--        <li class="page-item" *ngFor="let item of totalPage; let i = index" [attr.data-index]="i" [ngClass]="i==pageNow? 'active':''">-->
<!--          <button class="page-link" (click)="getPage(i)">{{i+1}}</button>-->
<!--        </li>-->
        <li class="page-item" [ngClass]="pageNow == totalPage.length-1 ? 'disabled' : ''">
          <button class="page-link" aria-label="Next" (click)="getPage(pageNow+1)">
            <span aria-hidden="true">&rsaquo;</span>
          </button>
        </li>
        <li class="page-item" [ngClass]="pageNow == totalPage.length-1 ? 'disabled' : ''">
          <button class="page-link" aria-label="Next" (click)="getPage(totalPage.length-1)">
            <span aria-hidden="true">&raquo;</span>
          </button>
        </li>
      </ul>
    </nav>
  </div>
</div>
<app-footer></app-footer>
