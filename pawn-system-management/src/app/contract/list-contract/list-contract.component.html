<div class="container-fluid">
  <div class="row">
    <form class="form-group" [formGroup]="searchContract" (ngSubmit)="search()" (keydown)="searchEnter($event)">
      <table>
        <tr>
          <td><label class="col-form-label">Tên khách hàng </label></td>
          <td><input type="text" class="col form-control border-dark" formControlName="customer"/></td>
          <td><label class="col-form-label mx-5">Tên đồ :</label></td>
          <td><input type="text" class="col2 form-control border-dark" formControlName="productName"/></td>
        </tr>
        <tr>
          <td><label class="col-form-label mt-3">Giao dịch từ ngày </label></td>
          <td><input type="date" class="col form-control border-dark" formControlName="startDateFrom"/></td>
          <td><label class="col-form-label mx-5 ">Đến </label></td>
          <td><input type="date" class="col2 form-control border-dark" formControlName="endDateTo"/></td>
        </tr>
        <tr>
          <td><label class="col-form-label" id="status">Trạng thái </label></td>
          <td>
            <select class="col form-control border-dark"  formControlName="statusContract" [(ngModel)]="searchStatus">
              <option selected value="">Chọn trạng thái</option>
              <option *ngFor="let statusContract of listStatusContract"
                      [value]="statusContract.name">{{statusContract.name}}</option>
            </select>
          </td>
          <td><label class="col-form-label mx-5" id="type">Loại hợp đồng </label></td>
          <td>
            <select class="col2 form-control border-dark ml-1" formControlName="typeContract">
              <option selected value="">Chọn hợp đồng</option>
              <option *ngFor="let typeContract of listTypeContract"
                      [ngValue]="typeContract.name">{{typeContract.name}}</option>
            </select>
          </td>
          <td></td>
          <td>
            <button type="submit"  class="btn btn-success mx-5"><i class="fas fa-search-plus"></i></button>
          </td>
        </tr>
      </table>
    </form>
  </div>
</div>
<div class="container-fluid mt-3">
  <div class="row">
    <div class="col-12 col-lg-12">
      <table id="tableTransaction" class="table table-striped table-bordered"  style="width: 100%">
        <thead class="table-primary text-center">
        <tr>
          <th>Mã hợp đồng</th>
          <th>Tên đồ</th>
          <th>Tên khách hàng</th>
          <th>Ngày làm hợp đồng</th>
          <th>Loại hợp đồng</th>
          <th>Trạng thái</th>
          <th>Chức năng</th>
        </tr>
        </thead>
        <tbody>
        <tr *ngFor="let contracts of listContract">
          <td><a>{{contracts.contractId}}</a></td>
          <td>{{contracts.productName}}</td>
          <td>{{contracts.customer.name}}</td>
          <td>{{contracts.startDate | date: 'dd/MM/yyyy'}}</td>
          <td>{{contracts.typeContract.name}}</td>
          <!--          <td >{{contracts.statusContract.name}}</td>-->
          <td *ngIf="contracts.statusContract.statusContractId == 1" [ngStyle]="{'color': 'blue', 'font-size': '15px', 'font-weight': 'bold'}">đã thanh lý</td>
          <td *ngIf="contracts.statusContract.statusContractId == 2" [ngStyle]="{'color': 'red', 'font-size': '15px', 'font-weight': 'bold'}">đã cầm đồ</td>

          <td>
            <button type="button" class="  border-0  btn btn-outline-warning " data-bs-toggle="modal"
                    data-bs-target="#exampleModal" (click)="getId(contracts.contractId)"><i class="fas fa-eye"></i></button>
            <button class="border-0 btn btn-outline-info"><i class="fas fa-pencil-alt"></i></button> &nbsp;
            <button class="border-0 btn btn-outline-danger"  (click)="delete(contracts.contractId)"><i class="fas fa-trash-alt"></i></button>
          </td>
        </tr>
        </tbody>
      </table>
    </div>
  </div>
</div>
<nav aria-label="Page navigation example">
  <ul class="pagination justify-content-end">
    <li class="page-item">
      <a class="page-link" aria-label="Previous" (click)="getPage(0)">
        <span aria-hidden="true">&laquo;</span>
        <span class="sr-only">Previous</span>
      </a>
    </li>
    <li class="page-item">
      <a class="page-link" aria-label="Previous" *ngIf="(indexPage - 1) > 0" (click)="getPage(indexPage - 2)">
        <span aria-hidden="true">&lsaquo;</span>
        <span class="sr-only">Previous</span>
      </a>
    </li>
    <li class="page-item">
      <a class="page-link" *ngIf="(indexPage - 1) > 0" (click)="getPage(indexPage - 2)">{{indexPage - 1}}</a>
    </li>
    <li class="page-item">
      <a class="page-link" (click)="getPage(indexPage - 1)">{{indexPage}}</a>
    </li>
    <li class="page-item">
      <a class="page-link" *ngIf="(indexPage + 1) <= totalPage" (click)="getPage(indexPage)">{{indexPage + 1}}</a>
    </li>
    <li class="page-item">
      <a class="page-link" aria-label="Next" *ngIf="(indexPage + 1) <= totalPage" (click)="getPage(indexPage)">
        <span aria-hidden="true">&rsaquo;</span>
        <span class="sr-only">Next</span>
      </a>
    </li>
    <li class="page-item">
      <a class="page-link" aria-label="Next" (click)="getPage(totalPage - 1)">
        <span aria-hidden="true">&raquo;</span>
        <span class="sr-only">Next</span>
      </a>
    </li>
  </ul>
</nav>
<div class="modal fade" id="exampleModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title " id="exampleModalLabel">CHI TIẾT GIAO DỊCH</h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      <div class="modal-body">
        <div class="container">
          <div class="row">
            <div class="col-1"></div>
            <div class="col-11">
              <div class="row">
                <label class="col-lg-6 col-sm-6 col-xl-6"><strong>Mã hợp đồng:</strong></label>
                <label class="col-lg-6 col-sm-6 col-xl-6">{{getInforList?.contractId}}</label>
              </div>
              <div class="row mt-2">
                <label class="col-lg-6 col-sm-6 col-xl-6"><strong>Tên đồ:</strong></label>
                <label class="col-lg-6 col-sm-6 col-xl-66">{{getInforList?.productName}}</label>
              </div>
              <div class="row mt-2">
                <label class="col-lg-6 col-sm-6 col-xl-6"><strong>Tên khách hàng:</strong></label>
                <label class="col-lg-6 col-sm-6 col-xl-66">{{getInforList?.customer?.name}}</label>
              </div>
              <div class="row mt-2">
                <label class="col-lg-6 col-sm-6 col-xl-6-6"><strong>Ngày làm hợp đồng:</strong></label>
                <label class="col-lg-6 col-sm-6 col-xl-6">{{getInforList?.startDate| date: 'dd/MM/yyyy'}}</label>
              </div>
              <div class="row mt-2">
                <label class="col-lg-6 col-sm-6 col-xl-6"><strong>Loại hợp đồng:</strong></label>
                <label class="col-lg-6 col-sm-6 col-xl-6">{{getInforList?.typeContract?.name}}</label>
              </div>
              <div class="row mt-2">
                <label class="col-lg-6 col-sm-6 col-xl-6"><strong>Trạng thái:</strong></label>
                <label class="col-lg-6 col-sm-6 col-xl-6">{{getInforList?.statusContract?.name}}</label>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Đóng</button>
      </div>
    </div>
  </div>
</div>






