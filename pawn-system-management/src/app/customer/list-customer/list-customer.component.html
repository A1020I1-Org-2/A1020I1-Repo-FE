<div class="container-fluid md-4 d-flex justify-content-center">
  <div class="row">
    <div class="col-12 col-lg-12 col-sm-12">
      <h2 class="text-center mt-3" style="color: darkblue; font-size: 35px">DANH SÁCH KHÁCH HÀNG</h2>
    </div>
  </div>
</div>
<div class="container-fluid mb-4">
  <div>
    <form class="form-group" [formGroup]="searchCustomer" (ngSubmit)="search()">
      <div class="row justify-content-center">
        <div class="col-2">
          <label class="col-form-label" for="ngaySinhTu">Ngày sinh từ </label>
          <input type="date" class="form-control border-dark" id="ngaySinhTu" formControlName="dateOfBirthFrom"/>
        </div>
        <div class="col-2">
          <label class="col-form-label" for="ngaySinhDen">Ngày sinh đến</label>
          <input type="date" class="form-control border-dark" id="ngaySinhDen" formControlName="dateOfBirthTo"/>
        </div>
        <div class="col-2">
          <label class="col-form-label" for="diaChi">Địa chỉ</label>
          <input class="form-control border-dark" id="diaChi" type="text" aria-label="Search" formControlName="address">
        </div>
        <div class="col-2">
          <label class="col-form-label" for="tuKhoa">Tên khách hàng</label><br>
          <input class="form-control border-dark" id="tuKhoa" type="text" aria-label="Search" formControlName="name">
        </div>
        <div class="col-1 align-items-end">
          <label class="col-form-label">&nbsp;</label><br>
          <button class="btn border btn-success h-50"><i class="fas fa-search"></i></button>
        </div>
      </div>
    </form>
  </div>
</div>

<div class="container-fluid w-auto">
  <div class="row">
    <div class="col-12 col-lg-12">
      <div class="col-12 d-inline-flex justify-content-between w-100 mb-2" style="padding: initial">
        <div>
          <button class="btn btn-primary h-100" > <i class="fas fa-plus-circle"></i> Thêm mới khách hàng</button>
        </div>
      </div>

      <div>
        <table id="tableCustomer" class="table table-striped table-bordered">
          <thead class="table-primary text-center">
            <tr>
              <th>Mã KH</th>
              <th>Tên khách hàng</th>
              <th>Ngày sinh</th>
              <th>Số điện thoại</th>
              <th>Email</th>
              <th>Giới tính</th>
              <th>Địa chỉ</th>
              <th>CMND/Hộ chiếu</th>
              <th>Số lượng HD</th>
              <th>Chức năng</th>
            </tr>
          </thead>
          <tbody>
            <tr *ngFor="let customer of customers">
              <td><p class="d-flex justify-content-center">{{customer.customerId}}</p></td>
              <td>{{customer.name}}</td>
              <td><p class="d-flex justify-content-center">{{customer.dateOfBirth | date: 'dd/MM/yyyy'}}</p></td>
              <td><p class="d-flex justify-content-center">{{customer.phone}}</p></td>
              <td>{{customer.email}}</td>
              <td>
                <span class="d-flex justify-content-center" *ngIf="!customer.gender">Nam</span>
                <span class="d-flex justify-content-center" *ngIf="customer.gender">Nữ</span>
              </td>
              <td>{{customer.address}}</td>
              <td><p class="d-flex justify-content-center">{{customer.idCard}}</p></td>
              <td><p class="d-flex justify-content-center">{{customer.contracts.length}}</p></td>
              <td class="text-center"><span class="d-inline-flex">
                <button class="btn btn-outline-info h-auto border-0"><i class="fas fa-pencil-alt"></i></button> &nbsp;
                <button class="btn btn-outline-danger border-0" (click)="openDialog(customer.customerId, customer.name)"><i class="fas fa-trash-alt"></i></button></span>
              </td>
            </tr>
          </tbody>
        </table>
      </div>
    </div>
  </div>
</div>

<div class="container">
  <div class="d-flex justify-content-center">
    <nav aria-label="Page navigation example">
      <ul class="pagination justify-content-end">
        <li class="page-item">
          <button class="page-link" aria-label="Previous" (click)="getPage(0)" *ngIf="(indexPage - 1) > 0">
            <span aria-hidden="true">&laquo;</span>
            <span class="sr-only">Previous</span>
          </button>
        </li>
        <li class="page-item">
          <button class="page-link" aria-label="Previous" *ngIf="(indexPage - 1) > 0" (click)="getPage(indexPage - 2)">
            <span aria-hidden="true">&lsaquo;</span>
            <span class="sr-only">Previous</span>
          </button>
        </li>
        <li class="page-item">
          <button class="page-link" *ngIf="(indexPage - 1) > 0" (click)="getPage(indexPage - 2)">{{indexPage - 1}}</button>
        </li>
        <li class="page-item">
          <button class="page-link" (click)="getPage(indexPage - 1)">{{indexPage}}</button>
        </li>
        <li class="page-item">
          <button class="page-link" *ngIf="(indexPage + 1) <= totalPage" (click)="getPage(indexPage)">{{indexPage + 1}}</button>
        </li>
        <li class="page-item">
          <button class="page-link" aria-label="Next" *ngIf="(indexPage + 1) <= totalPage" (click)="getPage(indexPage)">
            <span aria-hidden="true">&rsaquo;</span>
            <span class="sr-only">Next</span>
          </button>
        </li>
        <li class="page-item">
          <button class="page-link" aria-label="Next" (click)="getPage(totalPage - 1)" *ngIf="(indexPage + 1) <= totalPage">
            <span aria-hidden="true">&raquo;</span>
            <span class="sr-only">Next</span>
          </button>
        </li>
      </ul>
    </nav>
  </div>
</div>

